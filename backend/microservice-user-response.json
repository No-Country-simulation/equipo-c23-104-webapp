{"openapi":"3.0.1","info":{"title":"API USER MICROSERVICE","description":"Documentation of the user microservice, Parolu No-Country project.","contact":{"name":"Mereles Lautaro","url":"https://www.linkedin.com/in/mereles-lautaro/"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8082","description":"Generated server url"}],"security":[{"Security Token":[]}],"paths":{"/api/users/register":{"post":{"tags":["authentication-controller"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDetailsResponse"}}}}}}},"/api/users/logout":{"post":{"tags":["authentication-controller"],"operationId":"logout","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/users/login":{"post":{"tags":["authentication-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Token"}}}}}}},"/api/profile/leave-community":{"post":{"tags":["user-profile-controller"],"operationId":"leaveCommunity","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/profile/join-community":{"post":{"tags":["user-profile-controller"],"operationId":"joinCommunity","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/auth/password-reset":{"post":{"tags":["password-reset-controller"],"operationId":"resetPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}}}},"/api/auth/password-reset/verify-otp":{"post":{"tags":["password-reset-controller"],"operationId":"getResetToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ResetTokenResponse"}}}}}}},"/api/auth/password-reset/send-otp":{"post":{"tags":["password-reset-controller"],"operationId":"sendOtp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OtpRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}}}},"/api/profile/edit":{"patch":{"tags":["user-profile-controller"],"operationId":"editUserProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditProfileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}}}},"/health":{"get":{"tags":["health-check-controller"],"operationId":"healthCheck","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/users/{username}":{"get":{"tags":["authentication-controller"],"operationId":"getUserDetails","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDetails"}}}}}}},"/api/users/check-blacklist":{"get":{"tags":["authentication-controller"],"operationId":"checkBlacklist","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/profile/usersInfo":{"get":{"tags":["user-profile-controller"],"operationId":"getUsersInfo","parameters":[{"name":"userIds","in":"query","required":true,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageUserInfoForPostResponse"}}}}}}},"/api/profile/user":{"get":{"tags":["user-profile-controller"],"operationId":"getUserInfo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}}}},"/api/profile/user/{handleUsername}":{"get":{"tags":["user-profile-controller"],"operationId":"getUserInfoByHandleUsername","parameters":[{"name":"handleUsername","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}}}},"/api/profile/id/{id}":{"get":{"tags":["user-profile-controller"],"operationId":"getUserInfoById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}}}},"/api/profile/email/{email}":{"get":{"tags":["user-profile-controller"],"operationId":"getUserInfoByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}}}}},"components":{"schemas":{"UserRegisterRequest":{"required":["email","name","username"],"type":"object","properties":{"name":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"},"username":{"type":"string"}}},"UserDetailsResponse":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"username":{"type":"string"},"hashedPassword":{"type":"string"}}},"LoginRequest":{"required":["identifier"],"type":"object","properties":{"identifier":{"type":"string"},"password":{"type":"string"}}},"Token":{"type":"object","properties":{"token":{"type":"string"}}},"ResetPasswordRequest":{"required":["identifier","resetToken"],"type":"object","properties":{"identifier":{"type":"string"},"resetToken":{"type":"string"},"newPassword":{"type":"string"}}},"GenericResponse":{"type":"object","properties":{"message":{"type":"string"}}},"ResetTokenRequest":{"required":["identifier","otp"],"type":"object","properties":{"identifier":{"type":"string"},"otp":{"pattern":"\\d{6}","type":"string"}}},"ResetTokenResponse":{"type":"object","properties":{"passwordResetToken":{"type":"string"}}},"OtpRequest":{"required":["identifier"],"type":"object","properties":{"identifier":{"type":"string"}}},"EditProfileRequest":{"type":"object","properties":{"nameEdit":{"type":"string"},"descriptionEdit":{"type":"string"},"urlProfileEdit":{"type":"string"}}},"UserInfoResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"description":{"type":"string"},"urlProfile":{"type":"string"},"communities":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"UserDetails":{"type":"object","properties":{"enabled":{"type":"boolean"},"password":{"type":"string"},"username":{"type":"string"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageUserInfoForPostResponse":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/UserInfoForPostResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"empty":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"UserInfoForPostResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"urlProfile":{"type":"string"}}}},"securitySchemes":{"Security Token":{"type":"http","description":"Access Token for my API","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}